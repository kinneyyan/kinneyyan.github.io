<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="a personal blog by Kinney Yan"><title>React çš„ç”Ÿå‘½å‘¨æœŸ(è½¬) | Kinney's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/rss+xml" href="/atom.xml"><script src="https://www.googletagmanager.com/gtag/js?id=G-LRSZVEG77Q" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-LRSZVEG77Q');
</script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">React çš„ç”Ÿå‘½å‘¨æœŸ(è½¬)</h1><a id="logo" href="/.">Kinney's blog</a><p class="description">stay hungry, stay foolish</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/tags/"><i class="fa fa-tag"> æ ‡ç­¾</i></a><a href="/read/"><i class="fa fa-book"> è¯»ä¹¦</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">React çš„ç”Ÿå‘½å‘¨æœŸ(è½¬)</h1><div class="post-meta">2019-01-07<span> | </span><span class="category"><a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">æ–‡ç« ç›®å½•</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.</span> <span class="toc-text">ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E8%BD%BD%E6%9C%9F%E9%97%B4"><span class="toc-number">2.</span> <span class="toc-text">è£…è½½æœŸé—´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#constructor-props"><span class="toc-number">2.1.</span> <span class="toc-text">constructor(props)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-bind-%E5%87%BD%E6%95%B0%E7%9A%84%E8%A7%A3%E9%87%8A%E8%AF%B4%E6%98%8E"><span class="toc-number">2.2.</span> <span class="toc-text">å…³äº bind å‡½æ•°çš„è§£é‡Šè¯´æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getDerivedStateFromProps"><span class="toc-number">2.3.</span> <span class="toc-text">getDerivedStateFromProps()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#render"><span class="toc-number">2.4.</span> <span class="toc-text">render()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#componentDidMount"><span class="toc-number">2.5.</span> <span class="toc-text">componentDidMount()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%9C%9F%E9%97%B4"><span class="toc-number">3.</span> <span class="toc-text">æ›´æ–°æœŸé—´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#shouldComponentUpdate-nextProps-nextState"><span class="toc-number">3.1.</span> <span class="toc-text">shouldComponentUpdate(nextProps, nextState)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getSnapshotBeforeUpdate"><span class="toc-number">3.2.</span> <span class="toc-text">getSnapshotBeforeUpdate()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#componentDidUpdate-prevProps-prevState-snapshot"><span class="toc-number">3.3.</span> <span class="toc-text">componentDidUpdate(prevProps, prevState, snapshot)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD%E6%9C%9F%E9%97%B4"><span class="toc-number">4.</span> <span class="toc-text">å¸è½½æœŸé—´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#componentWillUnmount"><span class="toc-number">4.1.</span> <span class="toc-text">componentWillUnmount()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E6%8D%95%E8%8E%B7"><span class="toc-number">5.</span> <span class="toc-text">é”™è¯¯æ•è·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#componentDidCatch-error-info"><span class="toc-number">5.1.</span> <span class="toc-text">componentDidCatch(error, info)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React16-%E4%B8%AD%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E5%8F%98%E5%8C%96"><span class="toc-number">6.</span> <span class="toc-text">React16 ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å˜åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">7.</span> <span class="toc-text">æ€»ç»“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"><span class="toc-number">8.</span> <span class="toc-text">å‚è€ƒæ–‡ç« </span></a></li></ol></div></div><div class="post-content"><blockquote>
<p>è½¬è‡ª Ant Design å®æˆ˜æ•™ç¨‹ï¼š<a target="_blank" rel="noopener" href="https://www.yuque.com/ant-design/course/lifemethods">https://www.yuque.com/ant-design/course/lifemethods</a></p>
</blockquote>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜:</p>
<ul>
<li>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿä¸ºä»€ä¹ˆè¦æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°?</li>
<li>æˆ‘åº”è¯¥ä»€ä¹ˆæ—¶å€™å»è·å–åå°æ•°æ®? ä¸ºä»€ä¹ˆå¾ˆå¤šæ•™ç¨‹éƒ½æ¨èç”¨ componentDidMount? ç”¨ componentWillMount ä¼šæœ‰ä»€ä¹ˆé—®é¢˜?</li>
<li>ä¸ºä»€ä¹ˆ setState å†™åœ¨è¿™é‡Œé€ æˆäº†é‡å¤æ¸²æŸ“å¤šæ¬¡ï¼Ÿ</li>
<li>setState åœ¨è¿™é‡Œå†™åˆé€‚å—ï¼Ÿ</li>
</ul>
<p>è¯»å®Œæœ¬æ–‡å¸Œæœ›ä½ èƒ½å¯¹ React çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæœ‰ä¸€å®šçš„äº†è§£ï¼Œç¼–å†™ React ä»£ç çš„æ—¶å€™èƒ½å¤Ÿæ›´åŠ å¾—å¿ƒåº”æ‰‹ï¼Œæ³¨æ„æœ¬æ–‡çš„ç”Ÿå‘½å‘¨æœŸè®²çš„ä¸»è¦æ˜¯æµè§ˆå™¨ç«¯æ¸²æŸ“ï¼Œè¿™æ˜¯åç«¯å’Œå…¨æ ˆçš„ä¸»è¦ä½¿ç”¨æ–¹å¼ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“æœ‰äº›ä¸ä¸€æ ·ï¼Œè¯·æ³¨æ„åŒºåˆ†ï¼Œæˆ‘ä»¬ä¼šåœ¨æ–‡ä¸­è¿›è¡Œç®€å•è¯´æ˜ã€‚</p>
<blockquote>
<p>Update: æ›´æ–°ä¸º React16 ç‰ˆæœ¬ï¼ŒReact16 ç”±äºå¼‚æ­¥æ¸²æŸ“ç­‰ç‰¹æ€§ä¼šè®©ä¹‹å‰çš„ä¸€äº›æ–¹æ³•å¦‚ componentWillMount å˜å¾—ä¸å¤Ÿå®‰å…¨é«˜æ•ˆé€æ­¥åºŸå¼ƒï¼Œè¯¦è§<a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#legacy-lifecycle-methods">Legacy Methods</a></p>
</blockquote>
<hr>
<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p>å¦‚æœä½ åšè¿‡å®‰å“å¼€å‘æ–¹é¢çš„ç¼–ç¨‹ï¼Œé‚£ä¹ˆä½ åº”è¯¥äº†è§£ onCreateï¼ŒonResumeï¼ŒonDestrory ç­‰å¸¸è§ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç”Ÿå‘½å‘¨æœŸå‡½æ•°è¯´ç™½äº†å°±æ˜¯è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªç»„ä»¶çš„å„ä¸ªé˜¶æ®µéƒ½æä¾›ä¸€äº›é’©å­å‡½æ•°æ¥è®©å¼€å‘è€…åœ¨åˆé€‚çš„æ—¶é—´ç‚¹å¯ä»¥ä»‹å…¥å¹¶è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚åˆå§‹åŒ–(onCreate)çš„æ—¶å€™æˆ‘ä»¬åº”è¯¥åˆå§‹åŒ–ç»„ä»¶ç›¸å…³çš„çŠ¶æ€å’Œå˜é‡ï¼Œç»„ä»¶è¦é”€æ¯(onDestrory)æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä¸€äº›æ•°æ®ç»“æ„é”€æ¯æ‰ä»¥èŠ‚çº¦å†…å­˜ï¼Œé˜²æ­¢åå°ä»»åŠ¡ä¸€ç›´è¿è¡Œã€‚åœ¨ java ç±»ä¸­ä¹Ÿå­˜åœ¨ä¸€ä¸ªæœ€å¸¸è§çš„é’©å­å‡½æ•° contructorï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨ super æ–¹æ³•åˆå§‹åŒ–çˆ¶ç±»ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™é‡Œåˆå§‹åŒ–å„ç§å˜é‡ã€‚</p>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸‹ä¸‹é¢çš„å›¾å»ºç«‹ä¸€ä¸ª React ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ç›´è§‚è®¤è¯†ï¼Œå›¾ä¸º React 16 çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ€»çš„æ¥è¯´ React ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†: <code>è£…è½½æœŸé—´(Mounting)</code> ï¼Œ<code>æ›´æ–°æœŸé—´(Updating)</code> å’Œ<code>å¸è½½æœŸé—´(Unmounting)</code> ï¼ŒReact16 å¤šå‡ºæ¥ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#componentdidcatch">componentDidCatch()</a> å‡½æ•°ç”¨äºæ•æ‰é”™è¯¯ã€‚çŸ¥é“ä»€ä¹ˆæ—¶å€™å»ä½¿ç”¨å“ªäº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯¹äºæŒæ¡å’Œç†è§£ React æ˜¯éå¸¸é‡è¦çš„ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°æœ‰ä¸€å®šçš„è§„å¾‹ï¼Œæ¯”å¦‚åœ¨æŸä»¶äº‹æƒ…å‘ç”Ÿä¹‹å‰è°ƒç”¨çš„ä¼šç”¨ xxxWillxxxï¼Œè€Œåœ¨è¿™ä¹‹åå‘ç”Ÿçš„ä¼šç”¨ xxxDidxxxã€‚</p>
<p>&#x2F;&#x2F; å›¾æ¥æºäºç½‘ç»œï¼ˆä¾µåˆ )</p>
<p><img src="https://cdn.yuque.com/lark/0/2018/png/5482/1528371738002-2a20482c-f375-45d0-a7e9-3492e2496b0f.png" alt="image.png | left | 747x414"></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¿™ä¸‰ä¸ªé˜¶æ®µåˆ†åˆ«ä»‹ç»ä¸€ä¸‹å„ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè¯¦ç»†çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°è§£é‡Šå¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html">React.Component</a>ã€‚</p>
<hr>
<h3 id="è£…è½½æœŸé—´"><a href="#è£…è½½æœŸé—´" class="headerlink" title="è£…è½½æœŸé—´"></a>è£…è½½æœŸé—´</h3><p>ç»„ä»¶è¢«å®ä¾‹åŒ–å¹¶æŒ‚è½½åœ¨åˆ° DOM æ ‘è¿™ä¸€è¿‡ç¨‹ç§°ä¸ºè£…è½½ï¼Œåœ¨è£…è½½æœŸè°ƒç”¨çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¾æ¬¡ä¸º</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#constructor">constructor()</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#static-getderivedstatefromprops">getDerivedStateFromProps</a>()</li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#render">render()</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#componentdidmount">componentDidMount()</a></li>
</ul>
<hr>
<h4 id="constructor-props"><a href="#constructor-props" class="headerlink" title="constructor(props)"></a>constructor(props)</h4><p>æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–è¿™ä¸ªç»„ä»¶çš„ä¸€äº›çŠ¶æ€å’Œæ“ä½œï¼Œå¦‚æœä½ æ˜¯é€šè¿‡ç»§æ‰¿<code>React.Component</code>å­ç±»æ¥åˆ›å»º React çš„ç»„ä»¶çš„ï¼Œé‚£ä¹ˆä½ åº”å½“é¦–å…ˆè°ƒç”¨<code>super(props)</code> åˆå§‹åŒ–çˆ¶ç±»ã€‚</p>
<p>åœ¨ contructor å‡½æ•°ä¸­ï¼Œä½ å¯ä»¥<strong>åˆå§‹åŒ– state</strong>ï¼Œæ¯”å¦‚<code>this.state = &#123;xxx&#125;;</code>ï¼Œä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ setState()å‡½æ•°ï¼Œå¼ºè¡Œä½¿ç”¨çš„è¯ React ä¼šæŠ¥é”™ã€‚å…¶æ¬¡ä½ å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­<strong>è¿›è¡Œå‡½æ•° bind</strong>ï¼Œå¦‚:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">handleClick</span> = <span class="variable language_">this</span>.<span class="property">handleClick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªç¤ºä¾‹ contructor å®ç°å¦‚ä¸‹:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="variable language_">super</span>(props);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;#fff&#x27;</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">handleClick</span> = <span class="variable language_">this</span>.<span class="property">handleClick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ä¸éœ€è¦åˆå§‹åŒ–çŠ¶æ€ä¹Ÿä¸éœ€è¦ç»‘å®š handle å‡½æ•°çš„ thisï¼Œé‚£ä¹ˆä½ å¯ä»¥ä¸å®ç° constructor å‡½æ•°ï¼Œç”±é»˜è®¤å®ç°ä»£æ›¿ã€‚</p>
<hr>
<h4 id="å…³äº-bind-å‡½æ•°çš„è§£é‡Šè¯´æ˜"><a href="#å…³äº-bind-å‡½æ•°çš„è§£é‡Šè¯´æ˜" class="headerlink" title="å…³äº bind å‡½æ•°çš„è§£é‡Šè¯´æ˜"></a>å…³äº bind å‡½æ•°çš„è§£é‡Šè¯´æ˜</h4><p>æ³¨æ„ js çš„ this æŒ‡å‘æ¯”è¾ƒç‰¹æ®Šï¼Œæ¯”å¦‚ä»¥ä¸‹çš„ä¾‹å­ä½œä¸º onClick å›è°ƒå‡½æ•°ç”± button ç»„ä»¶å»è°ƒç”¨çš„æ—¶å€™ä¸ä¼šæŠŠç»„ä»¶ç±»çš„ä¸Šä¸‹æ–‡å¸¦è¿‡å»ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;handleClick&#x27;</span>, <span class="variable language_">this</span>); <span class="comment">// undefined</span></span><br><span class="line">  &#125;</span><br><span class="line"> ...</span><br><span class="line"> &lt;button onClick=&#123;<span class="variable language_">this</span>.<span class="property">handleClick</span>&#125;&gt;click&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§é—®é¢˜æ¨èä¸‰ç§å¯èƒ½çš„è§£å†³æ–¹å¼ï¼Œå…¶æ ¸å¿ƒå‡ä¸ºå°†å‡½æ•°çš„ this å¼ºåˆ¶ç»‘å®šåˆ°ç»„ä»¶ç±»ä¸Š:<br>1. å°±æ˜¯ä¸Šé¢è¯´çš„åœ¨ constructor å‡½æ•°ä¸­æ˜¾ç¤ºè°ƒç”¨ bindã€‚<br>2. åœ¨ onClick çš„æ—¶å€™è¿›è¡Œ bind: <code>&lt;button onClick = &#123;this.handleClick.bind(this)&#125; &gt;</code>ï¼Œè¿™ç§æ–¹å¼çš„åŠ£åŠ¿æ˜¯æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½éœ€è¦è¿›è¡Œ bindï¼Œä¼˜åŠ¿æ˜¯æ–¹ä¾¿ä¼ å‚ï¼Œå¤„ç†å‡½æ•°éœ€è¦ä¼ å‚å¯ä»¥å‚è€ƒ React çš„æ–‡æ¡£ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/handling-events.html#passing-arguments-to-event-handlers">Passing Arguments to Event Handlers</a><br>3. å£°æ˜å‡½æ•°æ—¶ä½¿ç”¨ç®­å¤´åŒ¿åå‡½æ•°ï¼Œç®­å¤´å‡½æ•°ä¼šè‡ªåŠ¨è®¾ç½® this ä¸ºå½“å‰ç±»ã€‚(<strong>ç®€æ´æœ‰æ•ˆï¼Œå¢™è£‚æ¨è</strong>)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;handleClick&#x27;</span>, <span class="variable language_">this</span>); <span class="comment">// Component</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="getDerivedStateFromProps"><a href="#getDerivedStateFromProps" class="headerlink" title="getDerivedStateFromProps()"></a>getDerivedStateFromProps()</h4><p>è¿™ä¸ªå‡½æ•°ä¼šåœ¨ render å‡½æ•°è¢«è°ƒç”¨ä¹‹å‰è°ƒç”¨ï¼ŒåŒ…æ‹¬ç¬¬ä¸€æ¬¡çš„åˆå§‹åŒ–ç»„ä»¶ä»¥åŠåç»­çš„æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œ<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">æ¯æ¬¡æ¥æ”¶æ–°çš„ props ä¹‹åéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ–°çš„ stateï¼Œè¿”å› null åˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–° stateã€‚</span></span></p>
<p>è¯¥æ–¹æ³•ä¸»è¦ç”¨æ¥æ›¿ä»£<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">componentWillReceiveProps æ–¹æ³•ï¼ŒwillReceiveProps ç»å¸¸è¢«è¯¯ç”¨ï¼Œå¯¼è‡´äº†ä¸€äº›é—®é¢˜ï¼Œå› æ­¤åœ¨æ–°ç‰ˆæœ¬ä¸­è¢«æ ‡è®°ä¸º unsafeã€‚ä»¥</span></span><a target="_blank" rel="noopener" href="https://juejin.im/post/5abf4a09f265da237719899d">æ˜é‡‘</a><span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">ä¸Šçš„ ğŸŒ° ä¸ºä¾‹ï¼Œ</span></span>componentWillReceiveProps çš„å¸¸è§ç”¨æ³•å¦‚ä¸‹ï¼Œæ ¹æ®ä¼ è¿›æ¥çš„å±æ€§å€¼åˆ¤æ–­æ˜¯å¦è¦ load æ–°çš„æ•°æ®</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ExampleComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">isScrollingDown</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">componentWillReceiveProps</span>(<span class="params">nextProps</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">currentRow</span> !== nextProps.<span class="property">currentRow</span>) &#123;</span><br><span class="line">      <span class="comment">// æ£€æµ‹åˆ°å˜åŒ–åæ›´æ–°çŠ¶æ€ã€å¹¶è¯·æ±‚æ•°æ®</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">isScrollingDown</span>: nextProps.<span class="property">currentRow</span> &gt; <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">currentRow</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">loadAsyncData</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">loadAsyncData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†è¿™ä¸ªæ–¹æ³•çš„ä¸€ä¸ªé—®é¢˜æ˜¯<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">å¤–éƒ¨ç»„ä»¶å¤šæ¬¡é¢‘ç¹æ›´æ–°ä¼ å…¥å¤šæ¬¡ä¸åŒçš„ propsï¼Œè€Œè¯¥ç»„ä»¶å°†è¿™äº›æ›´æ–° batch åä»…ä»…è§¦å‘å•æ¬¡è‡ªå·±çš„æ›´æ–°ï¼Œè¿™ç§å†™æ³•ä¼šå¯¼è‡´ä¸å¿…è¦çš„å¼‚æ­¥è¯·æ±‚ï¼Œç›¸æ¯”ä¸‹æ¥</span></span>getDerivedStateFromProps é…åˆ componentDidUpdate çš„å†™æ³•å¦‚ä¸‹:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ExampleComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">isScrollingDown</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">lastRow</span>: <span class="literal">null</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getDerivedStateFromProps</span>(<span class="params">nextProps, prevState</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¸å†æä¾› prevProps çš„è·å–æ–¹å¼</span></span><br><span class="line">    <span class="keyword">if</span> (nextProps.<span class="property">currentRow</span> !== prevState.<span class="property">lastRow</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">isScrollingDown</span>: nextProps.<span class="property">currentRow</span> &gt; prevState.<span class="property">lastRow</span>,</span><br><span class="line">        <span class="attr">lastRow</span>: nextProps.<span class="property">currentRow</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤ä¸æ”¹åŠ¨ state</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">componentDidUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ä»…åœ¨æ›´æ–°è§¦å‘åè¯·æ±‚æ•°æ®</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">loadAsyncData</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">loadAsyncData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼åªåœ¨æ›´æ–°è§¦å‘åè¯·æ±‚æ•°æ®ï¼Œç›¸æ¯”ä¸‹æ¥æ›´èŠ‚çœèµ„æºã€‚</p>
<blockquote>
<p>æ³¨æ„<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">getDerivedStateFromProps æ˜¯ä¸€ä¸ª static æ–¹æ³•ï¼Œæ„å‘³ç€æ‹¿ä¸åˆ°å®ä¾‹çš„ this</span></span></p>
</blockquote>
<hr>
<h4 id="render"><a href="#render" class="headerlink" title="render()"></a>render()</h4><blockquote>
<p>è¯¥æ–¹æ³•åœ¨ä¸€ä¸ª React ç»„ä»¶ä¸­æ˜¯å¿…é¡»å®ç°çš„ï¼Œä½ å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ª java interface çš„æ¥å£</p>
</blockquote>
<p>è¿™æ˜¯ React ç»„ä»¶çš„æ ¸å¿ƒæ–¹æ³•ï¼Œç”¨äºæ ¹æ®çŠ¶æ€ state å’Œå±æ€§ props æ¸²æŸ“ä¸€ä¸ª React ç»„ä»¶ã€‚æˆ‘ä»¬åº”è¯¥ä¿æŒè¯¥æ–¹æ³•çš„çº¯æ´æ€§ï¼Œè¿™ä¼šè®©æˆ‘ä»¬çš„ç»„ä»¶æ›´æ˜“äºç†è§£ï¼Œåªè¦ state å’Œ props ä¸å˜ï¼Œæ¯æ¬¡è°ƒç”¨ render è¿”å›çš„ç»“æœåº”å½“ç›¸åŒï¼Œæ‰€ä»¥è¯·<strong>ä¸è¦åœ¨ render æ–¹æ³•ä¸­æ”¹å˜ç»„ä»¶çŠ¶æ€ï¼Œä¹Ÿä¸è¦åœ¨åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å’Œæµè§ˆå™¨ç›´æ¥äº¤äº’</strong>ã€‚</p>
<p>å¦‚æœä½  React å¦‚ä½•ä½¿ç”¨ render æ–¹æ³•åŸç†ä¸å¤ªäº†è§£ï¼Œå¯ä»¥é˜…è¯»æ–‡ç« ã€Š<a target="_blank" rel="noopener" href="https://lark.alipay.com/afx-es/ffb/react-intro">å½“ React æ¥æ•²é—¨</a>ã€‹ã€‚</p>
<hr>
<h4 id="componentDidMount"><a href="#componentDidMount" class="headerlink" title="componentDidMount()"></a>componentDidMount()</h4><p>componentDidMount æ–¹æ³•ä¼šåœ¨ render æ–¹æ³•ä¹‹åç«‹å³è¢«è°ƒç”¨ï¼Œè¯¥æ–¹æ³•åœ¨æ•´ä¸ª React ç”Ÿå‘½å‘¨æœŸä¸­åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚React çš„ç»„ä»¶æ ‘æ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œæ­¤æ—¶ä½ å¯ä»¥è®¤ä¸ºè¿™ä¸ªç»„ä»¶ä»¥åŠä»–ä¸‹é¢çš„æ‰€æœ‰å­ç»„ä»¶éƒ½å·²ç»æ¸²æŸ“å®Œäº†ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä½ å¯ä»¥è°ƒç”¨å’ŒçœŸå® DOM ç›¸å…³çš„æ“ä½œäº†ã€‚</p>
<p>æœ‰äº›ç»„ä»¶çš„å¯åŠ¨å·¥ä½œæ˜¯ä¾èµ– DOM çš„ï¼Œä¾‹å¦‚åŠ¨ç”»çš„å¯åŠ¨ï¼Œè€Œ Â <code>componentWillMount</code>Â  çš„æ—¶å€™ç»„ä»¶è¿˜æ²¡æŒ‚è½½å®Œæˆï¼Œæ‰€ä»¥æ²¡æ³•è¿›è¡Œè¿™äº›å¯åŠ¨å·¥ä½œï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠè¿™äº›æ“ä½œæ”¾åœ¨ Â <code>componentDidMount</code>Â  å½“ä¸­ã€‚</p>
<p>æˆ‘ä»¬æ¨èå¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­<strong>å‘é€å¼‚æ­¥è¯·æ±‚</strong>ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­è°ƒç”¨ setState()è®¾ç½® stateï¼Œç­‰æ•°æ®åˆ°è¾¾åè§¦å‘é‡æ–°æ¸²æŸ“ã€‚ä½†æ³¨æ„å°½é‡<strong>ä¸è¦</strong>åœ¨è¿™ä¸ªå‡½æ•°ä¸­<strong>ç›´æ¥è°ƒç”¨</strong>setState()è®¾ç½®çŠ¶æ€ï¼Œè¿™ä¼šè§¦å‘ä¸€æ¬¡é¢å¤–çš„é‡æ–°æ¸²æŸ“ï¼Œå¯èƒ½é€ æˆæ€§èƒ½é—®é¢˜ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•åœ¨ componentDidMount åŠ è½½æ•°æ®å¹¶è®¾ç½®çŠ¶æ€:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;componentDidMount&#x27;</span>);</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;https://api.github.com/search/repositories?q=language:java&amp;sort=stars&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="comment">// è§¦å‘render</span></span><br><span class="line">          <span class="attr">items</span>: result.<span class="property">items</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(error)&#125;);</span><br><span class="line">  <span class="comment">// this.setState(&#123;color: xxx&#125;) // ä¸è¦è¿™æ ·åš</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="æ›´æ–°æœŸé—´"><a href="#æ›´æ–°æœŸé—´" class="headerlink" title="æ›´æ–°æœŸé—´"></a>æ›´æ–°æœŸé—´</h3><p>å½“ç»„ä»¶çš„çŠ¶æ€æˆ–å±æ€§å˜åŒ–æ—¶ä¼šè§¦å‘æ›´æ–°ï¼Œæ›´æ–°è¿‡ç¨‹ä¸­ä¼šä¾æ¬¡è°ƒç”¨ä»¥ä¸‹æ–¹æ³•:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#static-getderivedstatefromprops">getDerivedStateFromProps()</a> ä¸Šæ–‡å·²æè¿°ï¼Œä¸èµ˜è¿°</li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#unsafe_componentwillupdate">componentWillUpdate()</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#render">render()</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#getsnapshotbeforeupdate">getSnapshotBeforeUpdate()</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#componentdidupdate">componentDidUpdate()</a></li>
</ul>
<hr>
<h4 id="shouldComponentUpdate-nextProps-nextState"><a href="#shouldComponentUpdate-nextProps-nextState" class="headerlink" title="shouldComponentUpdate(nextProps, nextState)"></a>shouldComponentUpdate(nextProps, nextState)</h4><p>ä½ å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥å‘Šè¯‰ React æ˜¯å¦è¦è¿›è¡Œä¸‹ä¸€æ¬¡ render()ï¼Œé»˜è®¤è¿™ä¸ªå‡½æ•°æ”¾å› trueï¼Œå³æ¯æ¬¡æ›´æ–°çŠ¶æ€å’Œå±æ€§çš„æ—¶å€™éƒ½è¿›è¡Œç»„ä»¶æ›´æ–°ã€‚æ³¨æ„è¿™ä¸ªå‡½æ•°å¦‚æœè¿”å› false å¹¶ä¸ä¼šå¯¼è‡´å­ç»„ä»¶ä¹Ÿä¸æ›´æ–°ã€‚</p>
<p>è¿™ä¸ªé’©å­å‡½æ•°**ä¸€èˆ¬ä¸éœ€è¦å®ç°, **å¦‚æœä½ çš„ç»„ä»¶æ€§èƒ½æ¯”è¾ƒå·®æˆ–è€…æ¸²æŸ“æ¯”è¾ƒè€—æ—¶ï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿<a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-api.html#reactpurecomponent">React.PureComponent</a> é‡æ–°å®ç°è¯¥ç»„ä»¶ï¼ŒPureComponent é»˜è®¤å®ç°äº†ä¸€ä¸ªç‰ˆæœ¬çš„ shouldComponentUpdate ä¼šè¿›è¡Œ state å’Œ props çš„æ¯”è¾ƒã€‚å½“ç„¶å¦‚æœä½ æœ‰è‡ªä¿¡ï¼Œå¯ä»¥è‡ªå·±å®ç°æ¯”è¾ƒ nextProps å’Œ nextState æ˜¯å¦å‘ç”Ÿäº†æ”¹å˜ã€‚</p>
<p>è¯¥å‡½æ•°é€šå¸¸æ˜¯ä¼˜åŒ–æ€§èƒ½çš„ç´§æ€¥å‡ºå£ï¼Œæ˜¯ä¸ªå¤§æ‹›ï¼Œä¸è¦è½»æ˜“ç”¨ï¼Œå¦‚æœè¦ç”¨å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/camsong/blog/issues/3">Immutable è¯¦è§£åŠ React ä¸­å®è·µ</a>Â .</p>
<hr>
<h4 id="getSnapshotBeforeUpdate"><a href="#getSnapshotBeforeUpdate" class="headerlink" title="getSnapshotBeforeUpdate()"></a>getSnapshotBeforeUpdate()</h4><p>è¯¥æ–¹æ³•çš„è§¦å‘æ—¶é—´ä¸º<span data-type="color" style="color:rgb(51, 51, 51)"><span data-type="background" style="background-color:rgb(255, 255, 255)">update å‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨ render ä¹‹å dom æ¸²æŸ“ä¹‹å‰</span></span>è¿”å›ä¸€ä¸ªå€¼ï¼Œä½œä¸º componentDidUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚<span data-type="color" style="color:rgb(26, 26, 26)"><span data-type="background" style="background-color:rgb(255, 255, 255)">è¯¥å‡½æ•°ä¸ componentDidUpdate ä¸€èµ·ä½¿ç”¨å¯ä»¥å–ä»£ componentWillUpdate çš„æ‰€æœ‰åŠŸèƒ½</span></span>ï¼Œæ¯”å¦‚ä»¥ä¸‹æ˜¯å®˜æ–¹çš„ä¾‹å­:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ScrollingList</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">listRef</span> = <span class="title class_">React</span>.<span class="title function_">createRef</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getSnapshotBeforeUpdate</span>(<span class="params">prevProps, prevState</span>) &#123;</span><br><span class="line">    <span class="comment">// Are we adding new items to the list?</span></span><br><span class="line">    <span class="comment">// Capture the scroll position so we can adjust scroll later.</span></span><br><span class="line">    <span class="keyword">if</span> (prevProps.<span class="property">list</span>.<span class="property">length</span> &lt; <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">list</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> list = <span class="variable language_">this</span>.<span class="property">listRef</span>.<span class="property">current</span>;</span><br><span class="line">      <span class="keyword">return</span> list.<span class="property">scrollHeight</span> - list.<span class="property">scrollTop</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">componentDidUpdate</span>(<span class="params">prevProps, prevState, snapshot</span>) &#123;</span><br><span class="line">    <span class="comment">// If we have a snapshot value, we&#x27;ve just added new items.</span></span><br><span class="line">    <span class="comment">// Adjust scroll so these new items don&#x27;t push the old ones out of view.</span></span><br><span class="line">    <span class="comment">// (snapshot here is the value returned from getSnapshotBeforeUpdate)</span></span><br><span class="line">    <span class="keyword">if</span> (snapshot !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> list = <span class="variable language_">this</span>.<span class="property">listRef</span>.<span class="property">current</span>;</span><br><span class="line">      list.<span class="property">scrollTop</span> = list.<span class="property">scrollHeight</span> - snapshot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;this.listRef&#125;</span>&gt;</span>&#123;/* ...contents... */&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="componentDidUpdate-prevProps-prevState-snapshot"><a href="#componentDidUpdate-prevProps-prevState-snapshot" class="headerlink" title="componentDidUpdate(prevProps, prevState, snapshot)"></a>componentDidUpdate(prevProps, prevState, snapshot)</h4><p>è¯¥æ–¹æ³•ä¼šåœ¨æ›´æ–°å®Œæˆåè¢«ç«‹å³è°ƒç”¨ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œ<strong>DOM æ“ä½œ</strong>ï¼Œæˆ–è€…<strong>åšä¸€äº›å¼‚æ­¥è°ƒç”¨ã€‚</strong>è¿™ä¸ªå’Œé¦–æ¬¡è£…è½½è¿‡ç¨‹åè°ƒç”¨ componentDidMount æ˜¯ç±»ä¼¼çš„ï¼Œä¸ä¸€æ ·çš„æ˜¯ä½ å¯èƒ½éœ€è¦åˆ¤æ–­ä¸‹å±æ€§æ˜¯å¦å˜åŒ–äº†å†å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œå¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidUpdate</span>(<span class="params">prevProps</span>) &#123; <span class="comment">// æ¥è‡ªç½‘ç»œ</span></span><br><span class="line">  <span class="keyword">if</span>(prevProps.<span class="property">myProps</span> !== <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">myProp</span>) &#123;</span><br><span class="line">    <span class="comment">// this.props.myProp has a different value</span></span><br><span class="line">    <span class="comment">// we can perform any operations that would</span></span><br><span class="line">    <span class="comment">// need the new value and/or cause side-effects</span></span><br><span class="line">    <span class="comment">// like AJAX calls with the new value - this.props.myProp</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="å¸è½½æœŸé—´"><a href="#å¸è½½æœŸé—´" class="headerlink" title="å¸è½½æœŸé—´"></a>å¸è½½æœŸé—´</h3><p>å¸è½½æœŸé—´æ˜¯æŒ‡ç»„ä»¶è¢«ä» DOM æ ‘ä¸­ç§»é™¤æ—¶ï¼Œè°ƒç”¨çš„ç›¸å…³æ–¹æ³•ä¸º:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#componentwillunmount">componentWillUnmount()</a></li>
</ul>
<h4 id="componentWillUnmount"><a href="#componentWillUnmount" class="headerlink" title="componentWillUnmount()"></a>componentWillUnmount()</h4><p>è¯¥æ–¹æ³•ä¼šåœ¨ç»„ä»¶è¢«å¸è½½ä¹‹å‰è¢«è°ƒç”¨ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¿›è¡Œç›¸å…³æ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚åˆ é™¤å®šæ—¶å™¨ã€‚</p>
<p>ä¸‹é¢ç»™ä¸ªç¤ºä¾‹ä»£ç :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillUnmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;componentWillUnmount&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¸…é™¤timer</span></span><br><span class="line">  <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timerID1</span>);</span><br><span class="line">  <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">timerID2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å…³é—­socket</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">myWebsocket</span>.<span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å–æ¶ˆæ¶ˆæ¯è®¢é˜…...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="é”™è¯¯æ•è·"><a href="#é”™è¯¯æ•è·" class="headerlink" title="é”™è¯¯æ•è·"></a>é”™è¯¯æ•è·</h3><p>React16 ä¸­æ–°å¢äº†ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html#componentdidcatch">componentDidCatch()</a></li>
</ul>
<h4 id="componentDidCatch-error-info"><a href="#componentDidCatch-error-info" class="headerlink" title="componentDidCatch(error, info)"></a>componentDidCatch(error, info)</h4><p>åœ¨ react ç»„ä»¶ä¸­å¦‚æœäº§ç”Ÿçš„é”™è¯¯æ²¡æœ‰è¢«è¢«æ•è·ä¼šè¢«æŠ›ç»™ä¸Šå±‚ç»„ä»¶ï¼Œå¦‚æœä¸Šå±‚ä¹Ÿä¸å¤„ç†çš„è¯å°±ä¼šæŠ›åˆ°é¡¶å±‚å¯¼è‡´æµè§ˆå™¨ç™½å±é”™è¯¯ï¼Œåœ¨ React16 ä¸­æˆ‘ä»¬å¯ä»¥å®ç°è¿™ä¸ªæ–¹æ³•æ¥æ•è·<strong>å­ç»„ä»¶</strong>äº§ç”Ÿçš„é”™è¯¯ï¼Œç„¶ååœ¨çˆ¶ç»„ä»¶ä¸­å¦¥å–„å¤„ç†ï¼Œæ¯”å¦‚æä¸ªå¼¹å±‚é€šçŸ¥ç”¨æˆ·ç½‘é¡µå´©æºƒç­‰ã€‚</p>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¯·åªè¿›è¡Œé”™è¯¯æ¢å¤ç›¸å…³çš„å¤„ç†ï¼Œä¸è¦åšå…¶ä»–æµç¨‹æ§åˆ¶æ–¹é¢çš„æ“ä½œã€‚æ¯”å¦‚:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidCatch</span>(<span class="params">error, info</span>) &#123; <span class="comment">// from react.org</span></span><br><span class="line">    <span class="comment">// Display fallback UI</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">hasError</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">    <span class="comment">// You can also log the error to an error reporting service</span></span><br><span class="line">    <span class="title function_">logErrorToMyService</span>(error, info);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="React16-ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å˜åŒ–"><a href="#React16-ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å˜åŒ–" class="headerlink" title="React16 ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å˜åŒ–"></a>React16 ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å˜åŒ–</h3><p>componentWillMountï¼ŒcomponentWillUpdate, componentWillReceiveProps ç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•åœ¨ä¸‹ä¸ªä¸»ç‰ˆæœ¬ä¸­ä¼šè¢«åºŸå¼ƒ?</p>
<p>æ ¹æ®è¿™ä»½<a target="_blank" rel="noopener" href="https://github.com/reactjs/rfcs/blob/master/text/0006-static-lifecycle-methods.md">RFC</a>ï¼Œæ˜¯çš„ï¼Œè¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¢«è®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„ï¼Œåœ¨ React16 ä¸­è¢«é‡å‘½åä¸º UNSAFE_componentWillMountï¼ŒUNSAFE_componentWillUpdateï¼ŒUNSAFE_componentWillReceivePropsï¼Œè€Œåœ¨æ›´ä¸‹ä¸ªå¤§ç‰ˆæœ¬ä¸­ä»–ä»¬ä¼šè¢«åºŸå¼ƒã€‚è¯¦è§<a target="_blank" rel="noopener" href="https://reactjs.org/blog/2018/03/29/react-v-16-3.html"> React 16.3 ç‰ˆæœ¬å‘å¸ƒå…¬å‘Š</a>ã€‚</p>
<hr>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ€»ç»“ä¸€ä¸‹ï¼Œä»¥ä¸Šè®²çš„è¿™äº›ç”Ÿå‘½å‘¨æœŸéƒ½æœ‰è‡ªå·±å­˜åœ¨çš„æ„ä¹‰ï¼Œä½†åœ¨ React ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬æœ€å¸¸ç”¨åˆ°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯å¦‚ä¸‹å‡ ä¸ª:</p>
<ul>
<li><strong>constructor</strong>: åˆå§‹åŒ–çŠ¶æ€ï¼Œè¿›è¡Œå‡½æ•°ç»‘å®š</li>
<li><strong>componentDidMount</strong>: è¿›è¡Œ DOM æ“ä½œï¼Œè¿›è¡Œå¼‚æ­¥è°ƒç”¨åˆå§‹åŒ–é¡µé¢</li>
<li><strong>componentWillReceiveProps</strong>: æ ¹æ® props æ›´æ–°çŠ¶æ€</li>
<li><strong>componentWillUnmount</strong>: æ¸…ç†ç»„ä»¶å®šæ—¶å™¨ï¼Œç½‘ç»œè¯·æ±‚æˆ–è€…ç›¸å…³è®¢é˜…ç­‰</li>
</ul>
<h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><ul>
<li><a target="_blank" rel="noopener" href="http://www.mrfront.com/2016/05/03/react-components-study-states/">http://www.mrfront.com/2016/05/03/react-components-study-states/</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/superman66/Front-End-Blog/issues/2">https://github.com/superman66/Front-End-Blog/issues/2</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/entry/587de1b32f301e0057a28897">https://juejin.im/entry/587de1b32f301e0057a28897</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/JasonBoy/javascript/tree/master/react">Airbnb React&#x2F;JSX ç¼–ç è§„èŒƒ</a></li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000013354181">ç†è§£ React ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@baphemot/understanding-reactjs-component-life-cycle-823a640b3e8d">Understanding Reactâ€Šâ€”â€ŠComponent life-cycle</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26027085">React Fiber æ˜¯ä»€ä¹ˆ</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-component.html">react component</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5abf4a09f265da237719899d">è®²è®²ä»Šå React å¼‚æ­¥æ¸²æŸ“å¸¦æ¥çš„ç”Ÿå‘½å‘¨æœŸå˜åŒ–</a></li>
</ul>
</div><div class="tags"><a href="/tags/React"><i class="fa fa-tag">React</i></a></div><div class="post-nav"><a class="pre" href="/2019-01-16/git-rebase%20%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8/">git rebase äº¤äº’æ¨¡å¼çš„ä½¿ç”¨</a><a class="next" href="/2018-08-29/Class%20%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;%E5%AD%97%E8%8A%82%E7%A0%81%E6%8C%87%E4%BB%A4_%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">Class æ–‡ä»¶ç»“æ„&amp;å­—èŠ‚ç æŒ‡ä»¤-ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹è¯»ä¹¦ç¬”è®°</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
  clientID: '036e8d9e78210e4703b9',
  clientSecret: '467938209e5d55bcbba0ab68dc5111f38aaa6f74',
  repo: 'https://github.com/kinneyyan/kinneyyan.github.io',
  owner: 'kinneyyan',
  admin: ['kinneyyan'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="å…³äº"><img src="/avatar.jpg"/></a><p>ä¸€ä¸ªå¹³å‡¡çš„å‰ç«¯å¼€å‘</p><a class="info-icon" href="https://twitter.com/kinney_yan" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:yanshi.ars@gmail.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/kinneyyan" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">è¯»ä¹¦ç¬”è®°</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">éšç¬”</a><span class="category-list-count">7</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 15px;">æ ‘è“æ´¾</a> <a href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" style="font-size: 15px;">å†…ç½‘ç©¿é€</a> <a href="/tags/RSS/" style="font-size: 15px;">RSS</a> <a href="/tags/aria2/" style="font-size: 15px;">aria2</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022-09-27/%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93%EF%BC%882022%EF%BC%89/">æˆ‘çš„æ ‘è“æ´¾ä½¿ç”¨å°ç»“ï¼ˆ2022ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2020-11-26/%E4%BD%BF%E7%94%A8%20Tiny%20Tiny%20RSS%20%E8%A6%81%E7%82%B9%E5%8F%8A%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">ä½¿ç”¨ Tiny Tiny RSS è¦ç‚¹åŠè¸©å‘è®°å½•</a></li><li class="post-list-item"><a class="post-list-link" href="/2020-11-17/%E4%BD%8E%E6%88%90%E6%9C%AC%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E4%BA%91%EF%BC%88%E6%A0%91%E8%8E%93%E6%B4%BE4B%20+%20KodExplorer%EF%BC%89/">ä½æˆæœ¬æ­å»ºç§æœ‰äº‘ï¼ˆæ ‘è“æ´¾4B + KodExplorerï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2020-11-11/%20Linux%20%E4%B8%8B%20ZeroTier%20%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">Linux ä¸‹ ZeroTier çš„å®‰è£…å’Œä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2020-11-10/%E4%BD%8E%E6%88%90%E6%9C%AC%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E4%BA%91%EF%BC%88%E8%80%81%E6%AF%9B%E5%AD%90%20+%20KodExplorer%EF%BC%89/">ä½æˆæœ¬æ­å»ºç§æœ‰äº‘ï¼ˆè€æ¯›å­ + KodExplorerï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2019-04-15/tmux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">tmux å¸¸ç”¨å‘½ä»¤</a></li><li class="post-list-item"><a class="post-list-link" href="/2019-04-08/SSH%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">SSH å¸¸ç”¨å‘½ä»¤</a></li><li class="post-list-item"><a class="post-list-link" href="/2019-01-29/find,%20grep%20%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/">find, grep å‘½ä»¤é€ŸæŸ¥</a></li><li class="post-list-item"><a class="post-list-link" href="/2019-01-16/git-rebase%20%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8/">git rebase äº¤äº’æ¨¡å¼çš„ä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2019-01-07/React%20%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-%E8%BD%AC/">React çš„ç”Ÿå‘½å‘¨æœŸ(è½¬)</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2022 <a href="/." rel="nofollow">Kinney's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div>
<!-- Cloudflare Web Analytics -->
<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "ee133de067eb464093931c3a365a2bb5"}'></script>
<!-- End Cloudflare Web Analytics -->
</body></html>